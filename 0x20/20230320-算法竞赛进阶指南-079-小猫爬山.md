---
title: ç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-79.å°çŒ«çˆ¬å±±
date: 2023-03-20 17:00:00
updated: 2023-03-20 17:00:00
index_img: /img/default/stardust.png
math: true
categories:
- ç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—
tags: 
- Algorithm
- C++
- DFS
- å‰ªæ
excerpt: ç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-0x20-æœç´¢
---

### é¢˜ç›®é“¾æ¥

 [ç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—-79.å°çŒ«çˆ¬å±±](https://www.acwing.com/problem/content/167/)

ç¿°ç¿°å’Œè¾¾è¾¾é¥²å…»äº† $N$ åªå°çŒ«ï¼Œè¿™å¤©ï¼Œå°çŒ«ä»¬è¦å»çˆ¬å±±ã€‚

ç»å†äº†åƒè¾›ä¸‡è‹¦ï¼Œå°çŒ«ä»¬ç»ˆäºçˆ¬ä¸Šäº†å±±é¡¶ï¼Œä½†æ˜¯ç–²å€¦çš„å®ƒä»¬å†ä¹Ÿä¸æƒ³å¾’æ­¥èµ°ä¸‹å±±äº†ï¼ˆå‘œå’•>\_<ï¼‰ã€‚

ç¿°ç¿°å’Œè¾¾è¾¾åªå¥½èŠ±é’±è®©å®ƒä»¬åç´¢é“ä¸‹å±±ã€‚

ç´¢é“ä¸Šçš„ç¼†è½¦æœ€å¤§æ‰¿é‡é‡ä¸º $W$ï¼Œè€Œ $N$ åªå°çŒ«çš„é‡é‡åˆ†åˆ«æ˜¯ $C_1ã€C_2â€¦â€¦C_N$ã€‚

å½“ç„¶ï¼Œæ¯è¾†ç¼†è½¦ä¸Šçš„å°çŒ«çš„é‡é‡ä¹‹å’Œä¸èƒ½è¶…è¿‡ $W$ã€‚

æ¯ç§Ÿç”¨ä¸€è¾†ç¼†è½¦ï¼Œç¿°ç¿°å’Œè¾¾è¾¾å°±è¦ä»˜ $1$ ç¾å…ƒï¼Œæ‰€ä»¥ä»–ä»¬æƒ³çŸ¥é“ï¼Œæœ€å°‘éœ€è¦ä»˜å¤šå°‘ç¾å…ƒæ‰èƒ½æŠŠè¿™ $N$ åªå°çŒ«éƒ½è¿é€ä¸‹å±±ï¼Ÿ

#### è¾“å…¥æ ¼å¼

ç¬¬ $1$ è¡Œï¼šåŒ…å«ä¸¤ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼Œ$N$ å’Œ $W$ã€‚

ç¬¬ $2..N+1$ è¡Œï¼šæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬ $i+1$ è¡Œçš„æ•´æ•°è¡¨ç¤ºç¬¬ $i$ åªå°çŒ«çš„é‡é‡ $C_i$ã€‚

#### è¾“å‡ºæ ¼å¼

è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘éœ€è¦å¤šå°‘ç¾å…ƒï¼Œä¹Ÿå°±æ˜¯æœ€å°‘éœ€è¦å¤šå°‘è¾†ç¼†è½¦ã€‚

#### æ•°æ®èŒƒå›´

$1 \le N \le 18$,  
$1 \le C_i \le W \le 10^8$

#### è¾“å…¥æ ·ä¾‹ï¼š

```
5 1996
1
2
1994
12
29
```

#### è¾“å‡ºæ ·ä¾‹ï¼š

```
2
```

### Method : DFS

éå¸¸å…¸å‹çš„ä¸€é“dfsé¢˜ç›®ï¼Œç›´æ¥dfsä¼šè¶…æ—¶ï¼Œéœ€è¦å‰ªæä¼˜åŒ–ï¼š

dfs(int u, int k)

- ä¼˜åŒ–æœç´¢é¡ºåºï¼šå°†å°çŒ«é‡é‡ä»å°åˆ°å¤§é€†åºæ’åºï¼Œå…ˆæœç´¢é‡é‡è¾ƒå¤§çš„å°çŒ«ï¼Œè¿™æ ·ä¸Šå±‚æœç´¢åˆ†æ”¯å°±ä¼šå‡å°‘ï¼Œæœ‰åˆ©äºå‡å°‘æ•´ä½“åˆ†æ”¯æ•°é‡
- æœ€ä¼˜æ€§å‰ªæï¼šè®¾å®šå…¨å±€æœ€å°å€¼ï¼Œå½“æœç´¢çš„ä»»ä½•æ—¶åˆ»å‘ç° k å·²ç»>=å½“å‰resï¼Œåˆ™å½“å‰åˆ†æ”¯ç›´æ¥å›æº¯


```c++
#include <iostream>
#include <algorithm>
#include <cstring>

using namespace std;

const int N = 18 + 7;

int n, w;
int cat[N], sum[N];
int res = N;

void dfs(int u, int k) {
    // boundary
    if (u == n) {
        res = min(res, k);
        return;
    }
    // prune
    if (k >= res) return;
    
    for (int i = 0; i < k; i ++) {
        if (sum[i] + cat[u] <= w) {
            sum[i] += cat[u];
            dfs(u + 1, k);
            // recover
            sum[i] -= cat[u];
        } 
    }
    sum[k] += cat[u];
    dfs(u + 1, k + 1);
    // recover
    sum[k] = 0;
}

int main() {
    memset(sum, 0 ,sizeof sum);
    
    cin >> n >> w;
    for (int i = 0; i < n; i ++) {
        scanf("%d", &cat[i]);
    }
    
    // ä¼˜å…ˆè€ƒè™‘å†³ç­–å°‘çš„å…ƒç´ 
    sort(cat, cat + n, [](const int a, const int b) {
        return a > b;
    });
    
    dfs(0, 1);
    
    cout << res << endl;
    
    return 0;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šæœ€åæƒ…å†µä¸‹${O(n^2)}$ï¼Œ æ¯æ¬¡æœ€å¤šå¤šå‡ºkæ¡è·¯å¾„ï¼Œkæœ€å¤§ä¸ºnï¼Œä½†ç”±äºå‰ªæï¼Œå®é™…ä¼šè¿œå°äºè¯¥å¤æ‚åº¦ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š${O(N)}$ã€‚

### Other

ä¸€å¼€å§‹å†™äº†ä¸€ä¸ªåŸºäº`set`çš„è´ªå¿ƒæ–¹æ³•ï¼Œæ¯æ¬¡æ‰¾å½“å‰å°½å¯èƒ½èƒ½æ»¡è¶³çš„æœ€å¤§é‡é‡çš„ğŸ±ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯æœ€ä¼˜è§£ã€‚

```c++
#include <set>
#include <iostream>

using namespace std;
const int N = 18 + 7;

set<int> c;
int n, w;

int main() {
    cin >> n >> w;
    for (int i = 0; i < n; i ++) {
        int x;
        scanf("%d", &x);
        c.insert(x);
    }
    
    int res = 0;
    while (!c.empty()) {
        int remain = w;
        while (remain) {
            auto it_upper = c.upper_bound(remain);
            if (it_upper != c.begin()){
                auto upper = prev(it_upper);
                remain -= *upper;
                c.erase(upper);
            }
            else {
                break;
            }
        }
        res ++;
    }
    
    cout << res << endl;
    
    return 0;
}
```

